<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="CMConfiguration" type="io.ebu.eis.datastructures.CMConfigurationSection, io.ebu.eis.datastructures" allowLocation="true" allowDefinition="Everywhere" />
  </configSections>

  <CMConfiguration>

    <InputConfigurations>
      <!--<InputConfiguration Type="MQ" MQUri="amqp://username:pwdd@rabbitmq.server.ch/vhost" MQExchange="in-exchangename" />-->
      <InputConfiguration Type="HTTP" BindIp="localhost" BindPort="8080" />
    </InputConfigurations>

    <OutputConfiguration EnableDataDispatchMQ="false">
      <!--<DispatchMQConfiguration MQUri="amqp://username:pwdd@rabbitmq.server.ch/vhost" MQExchange="out-exchangename" />-->

      <UploadConfigurations>
        <!--
        <UploadConfiguration Type="FILE" DestinationPath="C:\temp" PublicUriBase="http://localhost/images">
          <DispatchConfigurations>
            <DispatchConfiguration Type="STOMP" StompUri="stomp:tcp://radio.ebu.io:61613" StompUsername="stomp_user" StompPassword="stomp_pwd" StompTopic="/topic/dab/4e1/ffff/ffff/0/" />
          </DispatchConfigurations>
        </UploadConfiguration>
        -->
        <UploadConfiguration Type="FTP"  FtpServer="ftp.server.ch" FtpUsername="username" FtpPassword="password" Subfolder="subfolder" PublicUriBase="http://public.server.ch/subfolder/">
          <DispatchConfigurations>
            <DispatchConfiguration Type="STOMP" StompUri="stomp:tcp://radio.ebu.io:61613" StompUsername="stomp_user" StompPassword="stomp_pwd" StompTopic="/topic/dab/4e1/ffff/ffff/0/" />
          </DispatchConfigurations>
        </UploadConfiguration>

        <!--
        <UploadConfiguration Type="S3"   AWSAccessKey="key" AWSSecretKey="secret"
                   S3BucketName="bucketname" Subfolder="subfolder"
                   PublicUriBase="http://publicurl/bucketname">
        </UploadConfiguration>
        -->
      </UploadConfigurations>

      <ImageOutputConfigurations>
        <!-- The Public URL of the IsDefault image will be used for dispatch -->
        <!--<ImageOutputConfiguration Name="DEFAULT" Width="320" Height="240" Encoder="PNG" Quality="100" IsDefault="true" /> -->
        <ImageOutputConfiguration Name="DEFAULT" Width="320" Height="240" Encoder="JPEG" Quality="80" IsDefault="true" />
      </ImageOutputConfigurations>

    </OutputConfiguration>

    <DataConfiguration DataFlowLeftActions="Cart;Context"
                       DataFlowRightActions="Context"
                       ImageFlowLeftActions="Template;BackgroundUrl;Context"
                       ImageFlowRightActions="BackgroundUrl"
                       
                       InitialPictureFolder="C:\temp\generic_bg"
                       IncomingPictureFolder="C:\temp\content_images"
                       
                       >

    </DataConfiguration>

    <!-- Specify here the base path to your html5 template to be loaded by the manager -->
    <SlidesConfiguration TemplatePath="C:\content-manager\radio-generic\"
                         DefaultLink="http://www.ebu.io" >
      <CartConfigurations>
        <!-- The carts defined here are default carts that are loaded on startup -->
        <!-- The Active=true cart is the one that is "on air" at start up -->
        <CartConfiguration Name="MAIN CART" Active="true" ShowInCartList="true" >
          <Slides>
            <Slide Filename="logo.html" DefaultLink="http://www.ebu.io" DefaultText="DEMO RADIO, DemoSlide for RadioVIS" />
            <Slide Filename="show1.html" DefaultLink="http://www.ebu.io" DefaultText="Show Time, DemoSlide for RadioVIS" />
            <Slide Filename="cover-icecast.html" DefaultLink="http://www.ebu.io" DefaultText="Current Song, DemoSlide for RadioVIS" />
            <Slide Filename="weather.html" DefaultLink="http://www.ebu.io"  DefaultText="Weather in Geneva, DemoSlide for RadioVIS"
                   RegenerateOnPublish="true" ValidityPeriodSeconds="120" />
            <Slide Filename="webcam.html" DefaultLink="http://www.ebu.io"  DefaultText="Webcam in Geneva, DemoSlide for RadioVIS"
                   RegenerateOnPublish="true" ValidityPeriodSeconds="120" />
          </Slides>
        </CartConfiguration>

        <CartConfiguration Name="MUSIC ONLY" Active="false" ShowInCartList="true" >
          <Slides>
            <Slide Filename="cover-icecast.html" DefaultLink="http://www.ebu.io" DefaultText="DemoSlide for RadioVIS" />
            <Slide Filename="logo.html" DefaultLink="http://www.ebu.io" DefaultText="DemoSlide for RadioVIS" />
          </Slides>
        </CartConfiguration>

        <!-- The 'ALL' cart with editor default will be shown at the bottom of the CM and acts as source for new slides -->
        <CartConfiguration Name="ALL" EditorDefault="true" >
          <Slides>
            <Slide Filename="logo.html" DefaultLink="http://www.ebu.io" DefaultText="DemoSlide for RadioVIS" />
            <Slide Filename="show1.html" DefaultLink="http://www.ebu.io" DefaultText="DemoSlide for RadioVIS" />
            <Slide Filename="cover.html" DefaultLink="http://www.ebu.io" DefaultText="DemoSlide for RadioVIS" />
            <Slide Filename="cover-icecast.html" DefaultLink="http://www.ebu.io" DefaultText="DemoSlide for RadioVIS" />
            <Slide Filename="weather.html" DefaultLink="http://www.ebu.io" DefaultText="DemoSlide for RadioVIS" />
            <Slide Filename="webcam.html" DefaultLink="http://www.ebu.io" DefaultText="DemoSlide for RadioVIS" />
          </Slides>
        </CartConfiguration>
      </CartConfigurations>
    </SlidesConfiguration>

  </CMConfiguration>


  <!-- ###################### Don't change anything below this line ###################### -->
  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5" />
  </startup>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <!--<assemblyIdentity name="Apache.NMS" publicKeyToken="82756feee3957618" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-1.7.0.3635" newVersion="1.7.0.3635" />-->
        <assemblyIdentity name="Apache.NMS" publicKeyToken="82756feee3957618" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-1.5.1.2739" newVersion="1.5.1.2739" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>


</configuration>